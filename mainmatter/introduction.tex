\chapter*{Introduction}\label{ch:introduction}
\TOCadd{toc}{chapter}{Introduction}

The concept of "simulation" is becoming increasingly relevant in every branch of ground-based transport: whether developing and testing sensors, using deep learning methodologies for \gls{ad}, or analysing driver behaviour in arbitrary traffic situations; simulating the process allows for cheaper, faster, and less rigid production loops. Since both the academic and the enterprise research environments push for similar long-time goals (with some expected differences), a tool tailor-made for one can, with the appropriate changes, be fruitfully used by the other. As such, collaborations between universities such as \gls{unitn} and software companies such as \company{ioTech} may prove remarkably successful, by promoting an healthy exchange of workforce, technologies, and know-how.

\gls{unitn} has been looking into either developing, co-developing, or downright acquiring a fully modular driving simulator, to replace the software currently used in a number of different research projects. To that end, an analysis was made on some of the competitors in the simulators market: by properly weighing the \glspl{feature} specifically requested informed decisions may be taken for future collaborations. This analysis and its results are presented in \pref{pr:motivation}, \cref{ch:stateoftheart}.

A related opportunity arose for a collaboration with the newly formed \company{ioTech}, a subsidiary of \gls{sms}, the developer, owner, and distributor of \software{Project Cars}. This is a consumer-grade driving simulator and one of the leading videogames in the genre, thanks to the team's ten-plus years experience, a focus on realistic physics, and state-of-the-art graphics. \company{ioTech}'s aim is to branch off and propose the videogame's underlying engine to the commercial and enterprise scene, featuring high-fidelity visuals (unmatched by the current enterprise solutions) on a modular and extensible simulation core.

An internship period of six months was agreed upon with \company{ioTech}: the goal was to develop an abstract, agnostic, plug-and-play, and network-based integration of any third-party vehicle traffic system into \software{Project Cars}' game engine, the \gls{me}. More specifically, the agents of a traffic system were to be visually displayed to the user in the game engine; the user was to drive a car in that game engine, interacting in real time with the traffic agents. As a proof-of-concept, the traffic software produced by \company{Vires Simulationstechnologie GmbH}, a fully featured enterprise solution to simulate realistic car traffic flows in arbitrary road topologies, was successfully plugged into the system. The work produced during this collaboration is detailed in \pref{pr:development}: familiarizing with the various software involved (\fref{ch:software}), designing and coding a \gls{middleware} (\fref{ch:middleware}), and successfully integrating it into the game engine (\fref{ch:integration}).

\FONTbold{The \gls{middleware} is the main focus of the project, and this thesis. Its goal is to be entirely abstract and agnostic towards both communication ends: it should be able to support any traffic simulation software and any game engine, by properly plugging the different software into the provided \glspl{api}. Whereas the initial implementation of the \gls{middleware} leveraged low-level \gls{os} headers for its network sockets, a second implementation was also developed, that utilizes the existing \gls{middleware} framework \software{0\FONTsmallcaps{mq}}. Details on the differences in implementation between the two socket solution can also be found in \fref{ch:middleware}.} % FORMATTING not convinced of the bold font

Finally, a performance-driven analysis was done on the \gls{middleware}, focusing on two main aspects: its impact on overall system performance (based on a number of metrics, some related to \gls{me}), and code development concerns. The two socket solutions (\gls{os} vs.\ \software{0\FONTsmallcaps{mq}}) were compared: ultimately it is \software{0\FONTsmallcaps{mq}} that, with only a small drop in performance, allows for greater code modularity and expansion, easier maintainability, and less complex code requirements; still, if other considerations apply, both approaches are shown to be equally viable. \pref{pr:analysis} is entirely devoted to this analysis.
